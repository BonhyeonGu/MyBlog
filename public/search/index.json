[{"content":"서론 앞에서 IP Address로 신호를 보내봤지만, Domain name형식이 아닌 주소를 쓰는 경우는 매우 보기 어렵습니다.\n대부분의 학생분들은 DNS라는 단어를 들어보셨을 거라 생각합니다. IP Address와 Domain name간의 맵핑을 이루게 해주는 서비스, 내지 서버입니다.\n실은 여기 Domain이란 단어는 우리가 알고있는 문자 형식의 주소를 뜻하는 말보다 더 여러가지의 내용이 포괄된 단어입니다. 이 내용과 관련해서는 다음에 다루어보도록 하겠습니다.\nBind9 설명 우리의 목표는 아래의 토폴로지입니다. 이 블로그 페이지는 Server2에 있는, DNS를 만들어주는 Bind9의 설정법을 다루어 볼 것입니다. 그 밖의 설정들은 되어있다고 가정하겠습니다.\nDNS은 Domain name을 IP Address로 변환해주는 정방향, 그 반대인 역방향이라는 개념과 주, 보조영역의 개념이 존재합니다. 오늘은 주 영역으로 정, 역방향을 구성해보도록 하겠습니다.\n구현 설치하고 zone 설정을 시행합니다.\napt-get install bind9 cd /etc/bind9 nano named.conf.local 아래처럼 작성해 보겠습니다. 위에는 정방향, 아래는 역방향입니다.\n이제 정의해준 파일을 만들어 주어야 합니다. 포함된 예제가 있으니 그것을 복사해서 사용하겠습니다.\ncp db.empty /var/cache/bind/busan.com.zone nano /var/cache/bind/busan.com.zone SOA로 시작하는 내용은 DNS의 갱신, 캐시, 재요청등의 설정들을 뜻하며\n그 이후부터는 맨 왼쪽의 문자로 접근했을 때 내보낼 결과를 뜻합니다. 단 @는 busan.com 자체가 요청 됐을때의 경우입니다.\n이제 역방향 파일을 만들어주겠습니다.\ncp /var/cache/bind/busan.com.zone /var/cache/bind/busan.com.zone.rev nano /var/cache/bind/busan.com.zone.rev IN 이 PTR로 바뀌었다는 것 말고는 뜻이 동일합니다.\n마무리 하셨다면\nnamed-checkconf 로 신택스 테스트를 할 수 있습니다. 아무 출력도 없으면 통과 된 것입니다.\nservice bind9 restart 로 bind9설정을 적용시킬 수 있습니다.\n외부 설정 이제 Server01,02 그리고 Client01 각각 DNS 위치가 Server02라는 것을 설정해야합니다.\n이 또한 나중에 인터넷 연결이 필요할 때 다시 원상태로 복구해야하는 점을 고려하여 원래 있던 내용을 주석처리 하시길 바랍니다.\n윈도우는 쉬우니 넘어가고 Debian만 살펴보겠습니다.\nnano /etc/resolv.conf 이렇게 설정하시면 완료됩니다. 참고로 리눅스에서는 DNS주소 설정이 resolv뿐만 있는것이 아닙니다.\n테스트 먼저 Server01로 가보겠습니다.\nnslookup client01.busan.com nslookup www.busan.com nslookup 192.168.10.10 정상적으로 나오는 모습을 확인할 수 있습니다.\nclient01의 브라우저로 www.busan.com 에 접속해 보겠습니다.\n역시 잘 되는 모습을 확인할 수 있습니다.\n","date":"2022-04-12T20:49:09+09:00","image":"https://docs.9bon.org/p/dns-server-bind9/thum_hu824554077030e2b5363c801976600b24_607940_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/dns-server-bind9/","title":"DNS Server, BIND9"},{"content":"서론 GuestOS에서 무언가를 설치하기 위해 인터넷과 연결하여 사용할 때가 있을 것이며\n인터넷이 아닌 공부 목적의, 내부 네트워크의 환경을 사용하는 일도 있을 것입니다. 이 두가지를 쉽게 오가면서 사용할 수 있도록\n미리 준비 해놓으면 굉장히 편리합니다.\n우리의 목표는 아래의 토폴로지와 같은 매우 간단한 형태의 네트워크망입니다.\nVMNet 설명 VMNet은 VMWare Workstation에서 지원하는 가상 인터페이스, 네트워크입니다. 이것을 통하여 내부 네트워크망을 구현할 수 있습니다.\n네트워크 환경은 Subneting, Gateway 그리고 구축하지 않아도 제공되는 DHCP 서비스등을 설정할 수 있으며 인터페이스는 위의 네트워크 환경이 아니더라도 NAT, Bridge 등을 지원합니다.\n이번 시간에 필요한 환경은 하나의 내부 네트워크가 필요합니다. VMNet은 하나를 추가로 만들 것입니다.\nVirtual Network Editor 설정 Edit→Virtual Network Editor 으로 들어갑니다. 그 후에 아래의 Change Settings까지 눌러주셔야 합니다.\n적용된 설정 설명 Host-only 브릿지, 나트가 아닌 외부와 단절된, VM 내부에서만 동작하게 되는 망입니다. Connect a host vitual adapter~ 체크를 하게되면 HostOS 설정(ex 윈도우 제어판)에도 해당 어뎁터가 감지됩니다. Use local DHCP~ VMWare에서 지원하는 DHCP를 적용시킬 수 있습니다. 우리는 Add Network로 Vmnet10 을 추가하면 됩니다. 설정하면 다음과 같습니다. Linux(Debian계열) 설명 인터넷망과 내부망의 연결을 오갈수 있다고 끝난 이야기가 아닙니다. 그때 마다 올바른 아이피주소를 사용해야 할 것입니다.\n기존은 DHCP로 되어있을 것이니 Static설정을 추가하고 경우에 따라 주석처리, 주석해제를 반복하며 사용하면 편리합니다.\n설정 위쪽(1)의 버튼을 눌러 잠깐 GuestOS에서 빠져나올 수 있습니다. 그 다음(2)을 누르면 바로 인터페이스 설정에 들어갈 수 있습니다.\n이곳에서 앞에서 설정했던 VMNet을 선택해주겠습니다. 만약 GuestOS가 실제 Host였다면 인터페이스에서 나온 선이 인터넷이\n아닌 내부망의 허브에 물린 셈입니다.\n다시 Debian으로 복귀해 본격적인 설정하기 앞서 ifconfig으로 인터페이스 이름을 확인해 보겠습니다. 당연히 명령어를 사용하실 때는 권한에 유의하셔야 합니다.\nifconfig 저같은 경우는 ens33입니다. 사진처럼 외부 아이피주소가 할당된 인터페이스를 찾으면 됩니다.\n이제 이름을 기억하고 아래처럼 인터페이스 설정파일에 접근하겠습니다.\nnano /etc/network/interfaces 여기서 부터는 오타에 주의해야합니다. 오타가 발생하면 인터페이스 갱신이 불가능 해지며 이것은 연결이 불가능함을 뜻합니다.\n여기서는 각 인터페이스의 address, subnet, netmask, broadcast, gateway 등을 설정할 수 있습니다.\n기존의 DHCP 설정은 주석처리하고 아래와 같이 적어보겠습니다.\n이후엔 오타를 다시 확인해보고 갱신 명령을 실행시키면 완료됩니다. 설정이 제대로 변경되었는지 확인해봅시다.\nservice networking reload ifconfig Windows 설명 Windows는 Linux보다 더 편리하게 설정할 수 있습니다. 먼저 위와 동일하게 해당 GuestOS의 인터페이스 VMNet은 변경해야 합니다.\n위의 토폴로지처럼 마찬가지로, 동일한 VMNet과 연결하면 되겠습니다. 또한 윈도우에서 아이피 주소를 변경하는 방법은 자세히\n나와있으니 쉽게 하실수 있습니다만 윈도우 방화벽 정책에 ICMP와 같은 여러 프로토콜이 막혀있기 때문에 방화벽을 설정하거나 해제해야 합니다.\n마무리 서로 ping명령어를 사용하여 연결이 제대로 되어있는지 확인할 수 있습니다.\n","date":"2022-04-01T08:30:11+09:00","image":"https://docs.9bon.org/p/vmware-%EC%84%9C%EB%B2%84-%EA%B3%B5%EB%B6%80%ED%99%98%EA%B2%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0/thum_hu935fc5a71ae9667b09b6d28bb6bef806_18367_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/vmware-%EC%84%9C%EB%B2%84-%EA%B3%B5%EB%B6%80%ED%99%98%EA%B2%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0/","title":"VMWare 서버 공부환경 만들기"},{"content":"백업 설명 백업/복원은 말 그대로 나중에 되돌릴 수 있게 사본을 복사하여 저장하는 기능입니다. 과거에도 OS에서 지원하는\n소프트웨어가 있었지만, 그럼에도 저 같은 경우에는 CD, USB에 담아서 사용하는 고스트를 자주 봤었던 기억이 있습니다.\n그 이유와 관련하여 방식의 종류를 살펴보도록 하겠습니다.\n백업의 종류 디스크를 통째로, 디스크의 일부 파티션만, 파일만 백업, 이것을 떠나서 백업은 세 가지의 방식이 존재합니다.\n1일 2일 3일, 총 삼일 동안 파일이 써지고 있는 동일한 시스템을 백업했다고 가정하고 예를 들어보겠습니다.\n전체 백업(Full)\n1일 //// __ __\n2일 //// //// __\n3일 //// //// ////\n차등 백업(Differential)\n1일 //// __ __\n2일 __ //// __\n3일 __ //// ////\n증분 백업(Incremental)\n1일 //// __ __\n2일 __ //// __\n3일 __ __ ////\n간단히 전체는 그 말대로 모든 내용을, 차등은 첫 백업 이후의 내용들을, 증분백업은 각 백업시의 변화 내용을\n기록하는 것입니다. 이렇게 보면 증분백업이 가장 좋아보이지만 복원시 오랜 시간이 소모되고 백업 파일이\n하나라도 손실되면 복원이 불가능한 특징을 가지고 있습니다.\n요즘엔 고스트가 윈도우에 설치되어 증분백업까지 지원을 하지만 과거의, 특히 컴퓨터 수리를 업으로 하는 입장에서는\n각기 다른 시스템을 접해야 했기 때문에 전체 백업이 좋은 선택지였다고 생각합니다.\n참고로 맥의 타임머신도 기본은 증분백업이며, 타임머신을 포함한 대부분 요즘 소프트웨어는 세 가지 백업 방식을\n모두 지원하고 있습니다.\n명령 tar tar은 백업보다 압축이 주 목적인 명령어입니다.\n파일 전체백업\ntar cvfp home.tar /file 파일 증분백업\ntar cvfp home.tar /file 백업 위치지정\ntar zcf /dev/sdb1 /file `` 현재 디렉토리에 압축 해제 ```bash tar zcf /dev/sdb1 /now dump 파일 전체백업\ndump -0f /dev/sdb1 /file 파티션 백업(sda1), 경로지정, 정보 기록(-u:/etc/dumpdates로)\ndump -0u -f /dev/sdb1 /dev/sda1 증분 백업(-2:2레벨의 백업)\ndump -2u -f /dev/sdb1 /dev/sda1 복원(-r:전체:단 파일시스템 마운트 동일해야함, -i:대화식)\nrestore -rf /dev/sdb1 dd 디스크 전체, 특정 파티션 모두 가능합니다. 해당 명령어는 백업뿐만 아니라 여러곳에서 쓰입니다.\n전체 백업(bs:블럭 사이즈, 디스크 형편에 맞출 것)\ndd if=/dev/sda of=/dev/sdb bs=256k ","date":"2022-03-25T11:21:02+09:00","image":"https://docs.9bon.org/p/%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EC%8A%A4%ED%81%AC-%EB%B0%B1%EC%97%85/thum_hu8d768d0c7f2f69c48b4738ec3466ffb8_400747_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EC%8A%A4%ED%81%AC-%EB%B0%B1%EC%97%85/","title":"리눅스 디스크 백업"},{"content":"하드디스크의 문제 증상 저장, 삭제시 에러문구 : \u0026ldquo;Structure needs cleaning\u0026rdquo;, \u0026ldquo;구조에 청소가 필요합니다\u0026rdquo;\nls 시 : ??? ?? ???? 로 표시\n설명 불량, 노후화, 최악에는 소프트웨어의 오류에도 하드디스크에 치명적인 문제가 발생할 수 있습니다.\n제가 겪은 문제는 서버가 일종의 과부하를 받을 때 디렉토리 일부가 사라져 조회조차 하지 못하는 상황에\n놓이는 것이였습니다.\n놀라서 umount하거나 reboot해서 돌아와보면 디렉토리가 다시 보였지만\n디렉토리를 포함한 파일의 일부가 열리지만 소실되었거나, 열리지도 않으며 청소가 필요하다는 경고가 나타났습니다.\n흥미로웠던 사실은 비교적 최근에 생성된 것만 그런 상태였습니다. 추정해보면 EXT파일시스템의 특징이\n여기서 보이는 것이 아닐까 생각했습니다.\n현재는 과거의 사태에 높은 확률을 따라, 하드디스크의 불량이라고 생각하고 있지만\n정확한 원인을 알기는 어려운 상황입니다. 이런일이 발생한다면 어떻게 대처하고 판단해야하는지\n작성해 보겠습니다.\n해결 fsck fsck는 리눅스에서 지원하는 Filesystem fix 명령입니다. 실행하면 체크를 하고, 문제가 생긴 항목을 불러준 뒤\n허락하면 교정을 시작합니다. 당연히 un mount 되어있는 상황이여야 합니다.\numount /dev/\u0026lt;장치명\u0026gt; fsck -y /dev/\u0026lt;장치명\u0026gt; Yes 또는 No로 물어보는 항목이 많고 대부분 오래 걸리므로 -y를 붙여 진행할 수 있습니다.\nbadblocks badblocks는 리눅스에서 기본적으로 하드디스크의 badblock을 점검해주는 명령어 입니다.\n어차피 읽기 전용모드로 작동되기 때문에 un mount 되어 있을 필요는 없으나\n항상 장치적 문제를 해결할 때는 un mount 하시는 것을 추천드리고 싶습니다.\numount /dev/\u0026lt;장치명\u0026gt; badblocks -v -o out.txt /dev/\u0026lt;장치명\u0026gt; -v는 자세하게 보여달라는 뜻이고 -o는 badblock list 를 file output으로 해달라는 뜻입니다.\nsmartctl smartctl은 기본 제공은 아니지만 자주 사용했었던 것입니다.\n하드디스크의 모니터링 기술 SMART(Self-Monitoring, Analysis, and Reporting Technology)을 사용하여\n점검하는 도구이며 아주 옛날의 하드디스크가 아닌 이상 대부분 장착되어 있습니다.\napt-get install smartmontools umount /dev/\u0026lt;장치명\u0026gt; smartctl -a /dev/\u0026lt;장치명\u0026gt; 자세히는 -a, 간단히는 -H, 정보만은 -i 옵션을 사용하여 진행 가능합니다.\n","date":"2022-03-12T03:43:58+09:00","image":"https://docs.9bon.org/p/%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EC%8A%A4%ED%81%AC-%EB%AC%B8%EC%A0%9C/thum_hu4f4c739fc0a57bc676838f361bf202d4_469813_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EC%8A%A4%ED%81%AC-%EB%AC%B8%EC%A0%9C/","title":"리눅스 디스크 문제"},{"content":"Partion 설명 기본적으로 리눅스의 Filesystem은 다음과 같은 과정을 통해 만들어집니다. Partion \u0026gt; Format \u0026gt; Mount 의 과정을 거칩니다.\n윈도우는 자동 마운트됩니다.\n기본적으로 Partion은 하나의 보조기억장치를 여러 개의 Filesystem으로 만들고 싶을 때 사용합니다. 분할해서 사용하지\n않는다고 해도 칸 하나를 사용하겠다는 명시가 필요합니다.\n추가로 리눅스에서는 여러개의 저장 장치를 하나로 합치는 LVM이라는 개념이 존재합니다. Partion의 반대 개념에 가까우며\n최근에 윈도우에도 비슷한 기능이 추가되었습니다.\n명령어 fdisk -l 로 정확한 장치를 찾아서\nfdisk /dev/[장치명] 으로 파티션 모드에 진입할 수 있습니다. 명령어로 진행되는 것이 아니라, 마법사형식을 이용합니다.\nn, p 등을 누르면서 안내하는 내용을 따르면 문제 없습니다.\n윈도우와 다르게 고려되어야 할 사항은 주영역, 가상영역, 그리고 Swap입니다. 이것은 가상메모리의 역할을 합니다.\nFormat 설명 저장공간의 Format은 선택한 공간에 FileSystem을 구성시키는 것을 뜻합니다. 이 단어가 주로 초기화 작업을 뜻하는 이유는\nFileSystem은 하나의 공간에 하나만 사용될 수 있으며 새롭게 FileSystem 을 구성시킬때 본래있던\n저장장치의 파일을 가르키는 맵핑, 테이블 정보가 덮어씌워지면서 사실상 정보가 삭제된 것처럼 되기 때문입니다.\n리눅스에서 자주 사용되는 FileSystem은Ext4, XFS등이 있습니다. 자세한 내용은 다음에 다루겠습니다.\n명령어 혹시 쓰던 저장장치를 포맷할 계획이라면 당연히 unmount된 상태여야 합니다.\nmkfs.[파일 시스템 타입] /dev/[장치] 마찬가지로 마법사 형식입니다. y를 누르며 진행할 수 있습니다.\nMount 설명 mount는 특정 저장장치를 디렉토리와 연결하는 행위입니다. 윈도우는 알아서 해주거나, 파일 관리자를 거쳐 해결할 수 있으며\n요즘 우분투 사용자 편의를 위해 알아서 데스크탑에 mount 하게 됩니다.\n물론 mount를 하여 제대로 쓰기 위해선 fdisk와 같은 명령어로 포멧, 파일시스템 구축이 완료된 상태여야 합니다.\nMount 상태 확인 findmnt fdisk -l 또는 mount -l 도 있지만 해당 경우에는 위의 명령어가 훨씬 보기 편리했습니다.\nMount 하기 mount /dev/\u0026lt;장치명\u0026gt; \u0026lt;마운트 포인트\u0026gt; 취소는\numount /dev/\u0026lt;장치명\u0026gt; 하지만 위의 명령어는 일시적이며 reboot 후 필요하다면 다시 입력해야 합니다.\nfstab-파일시스템 테이블 부팅 시 자동으로 mount가 되기 위해선 해당 파일을 수정해야 합니다.\nnano /etc/fstab 기본적인 mount 는 하단에 \u0026lt;장치명\u0026gt; \u0026lt;마운트 포인트\u0026gt; \u0026lt;파일 시스템 종류\u0026gt; \u0026lt;옵션\u0026gt; 을 추가하면 reboot 후부터 적용됩니다.\n주의해야 할 사항이 있는데\n만약 현재 ssh등의 방법으로 remote중에 이것을 변경했다면 반드시 오탈자가 없는지 확인해야 합니다.\n만약 오타가 존재한다면 리눅스가 reboot 중에 SSH server를 포함한 프로세스를 실행하기 전 오류로 중단되므로 담당자가 remote를\n하지 못하고 직접 가서 local상으로 부팅 설정을 해야 하는 상황이 발생합니다.\n","date":"2022-03-01T23:17:11+09:00","image":"https://docs.9bon.org/p/%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EC%8A%A4%ED%81%AC-%EC%82%AC%EC%9A%A9/thum_hub73c81dae35932a884eebb6fb7bc512a_556211_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EC%8A%A4%ED%81%AC-%EC%82%AC%EC%9A%A9/","title":"리눅스 디스크 사용"},{"content":"윈도우 윈도우에서의 도커 도커의 기본 환경은 리눅스에 맞춰져 있습니다. 따라서 윈도우에서 도커를 사용하려면 다른 방법을 선택할 필요가 있으며\n각 방법은 장단점이 존재했습니다. 대부분 가상머신을 이용한 방법입니다.\n가상 머신 출처\n가상머신은 기존의 운영체제(Host OS)에 가상의 운영체제(Guest OS)를 올릴 수 있게 해주는 소프트웨어 입니다.\n도커도 가상머신과 흡사하지만 GuestOS를 모두 올리는 것이 아니라. 필요한 쉘과 커널등만 올린다는 차이점이 있습니다.\n즉 도커는 가상머신 만큼 자유롭지는 못하나. 환경을 만들고 사용하는 부분에서 가볍게 진행 가능합니다.\n정리해보면 윈도우에서 우분투 컨테이너를 사용하려면\n윈도우 -\u0026gt; 가상머신 -\u0026gt; 리눅스 -\u0026gt; 도커 -\u0026gt; 컨테이너\n의 관계를 거쳐야 합니다. 그렇게 최적화된 방법은 아닐 것입니다.\n윈도우에서 사용하는 방법들 Docker Toolbox 공식 Github\n과거에는 Docker Toolbox를 주로 사용했습니다. 이것은 Virtualbox로 도커를 쉽게 설치/연결 시켜주는 가상머신 파일입니다.\n그 시절 때 상대적으로 가벼웠던 Virtualbox는 도커를 쓰기 위해 잠깐 사용 할 가상머신으로 적합했습니다.\n그러나 가상머신 특징상 HostOS와 GuestOS가 분리되어 IDE로 Remote하지 않는 이상 환경 공유에 불편함이 따랐습니다.\n결국은 이후에 더 편리한 방법이 나와 2019년에 프로젝트가 중단되었습니다.\nWLS2 WLS2는 Windows에서 제공하는 리눅스용 하위 프로그램입니다. 쉽게 말하면 오직 리눅스 계열을 구동시킬 수 있는 가상머신입니다.\n기존의 WLS1은 가상머신과 거리가 멀되 HostOS인 윈도우와 호환성이 높게 만들어졌었으나\nHyper-V를 사용하는 WSL2로 만들면서 WLS1보다 가상 환경의 성능을 더 우선시하게 만들어 졌습니다.\n비록 WLS1보다는 문제가 있지만 HostOS와 환경 공유도 가능하고 GuestOS의 성능도 뛰어나 출시 후 각광 받았습니다.\n이 곳에다 Docker를 설치하여 컨테이너가 필요한 순간마다 WSL2를 사용하면 됩니다.\nDocker Desktop 위에서 나오는 모든 방법들은 컨테이너를 사용하기 위해 가상 머신을 사용해야 한다는 공통점을 가지고 있습니다. 이것은 번거로운 일입니다.\nDocker Desktop은 이와 다르게, 설치되어있는 WSL2을 이용하여 HostOS에서 Docker를 사용할 수 있도록 도와줍니다.\n그렇기 때문에 사용하기 위해선 Hyper-V과 WSL2가 설치되어 있어야 합니다.\n예전에는 ARM 아키텍처를 이용하는 맥OS 계열에서도 이것을 사용했으나\n최근 Docker는 ARM아키텍처를 지원하게 되었기 때문에 해당 선택지를 고를 필요는 없습니다.\n이것은 편리하지만 심각한 메모리의 사용률과 상업적 이용의 유료화 때문에 상위호환의 선택지가 될 수 없습니다.\n","date":"2022-02-20T16:54:39+09:00","image":"https://docs.9bon.org/p/%EB%8F%84%EC%BB%A4%EC%99%80-%EC%9C%88%EB%8F%84%EC%9A%B0/thum_hu28a6acd632bd249172ae213498f2ef9f_353935_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EB%8F%84%EC%BB%A4%EC%99%80-%EC%9C%88%EB%8F%84%EC%9A%B0/","title":"도커와 윈도우"},{"content":"간단한 형식 운영체제 #원본이 될 이미지, https://hub.docker.com/ 참고 #버전을 기록하지 않으면 최신 버전을 사용하게 된다. FROM ubuntu:16.04 #작성자 정보, 필수는 아님, 옛날에는 MAINTAINER을 사용했으나 대체됨 LABEL email=\u0026#34;tayasriel@gmail.com\u0026#34; LABEL name=\u0026#34;BonhyeonGu\u0026#34; #언어 설정, ENV 자체는 도커 이미지 환경변수를 조작한다. ENV LC_ALL=C.UTF-8 ENV LANG=C.UTF-8 #명령어, 물음이 오는것을 피해야 진행이 가능하다. RUN apt-get update -y \u0026amp;\u0026amp; \\ apt-get install -y nano #노출될 포트, 주의할 점은 이게 포트포워딩을 해주는 것이 아님 EXPOSE 5000, 5001 인터프리터 FROM ubuntu LABEL email=\u0026#34;tayasriel@gmail.com\u0026#34; LABEL name=\u0026#34;BonhyeonGu\u0026#34; RUN apt-get update -y \u0026amp;\u0026amp; \\ apt-get install -y python-pip python-dev #호스트 경로 .의 파일들을 컨테이너의 경로 /app으로 복사시킨다. COPY . /app #컨테이너가 실행되면 활성화 될 경로, cd /app 과 동일하다. WORKDIR /app RUN pip install -r requirements.txt #명령어 실행, RUN과 다르게 컨테이너가 활성화 될 때 마다 실행된다. ENTRYPOINT [ \u0026#34;python\u0026#34; ] #명령어 실행, ENTRYPOINT 와 비슷하지만, 만약 도커 컨테이너 실행과 함께 #인수가 제공되면 그것으로 대체된다. CMD [ \u0026#34;app.py\u0026#34; ] ## 즉 이 형태는 컨테이너 start와 함께, 파이썬이 실행되고 컨테이너가 stop되는 형식 도커 컴포즈, 도커 파일의 조합 안내 이런 방법으로 컴공에 새로 입문하시는 분들께 개발환경을 배포할 수 있을 것 같습니다.\n파이썬 인터프리터 도커파일\nFROM ubuntu LABEL email=\u0026#34;tayasriel@gmail.com\u0026#34; LABEL name=\u0026#34;BonhyeonGu\u0026#34; RUN apt-get update -y \u0026amp;\u0026amp; \\ apt-get install -y python3-pip python3-dev #mkdir 이 필요할 수 있다. WORKDIR /app RUN pip install --no-cache-dir --upgrade pip \u0026amp;\u0026amp; \\ pip install numpy #경우에 따라서 pip 모두 업그레이드 받는건 피해야겠다. 꽤 오래걸림 #명령어 실행, RUN과 다르게 컨테이너가 활성화 될 때 마다 실행된다. ENTRYPOINT [ \u0026#34;python3\u0026#34; ] #명령어 실행, ENTRYPOINT 와 비슷하지만, 만약 도커 컨테이너 실행과 함께 #인수가 제공되면 그것으로 대체된다. CMD [ \u0026#34;app.py\u0026#34; ] ## 즉 이 형태는 컨테이너 start와 함께, 파이썬이 실행되고 컨테이너가 stop되는 형식 컴포즈\nversion: \u0026#34;3\u0026#34; services: test1: build: . volumes: - .:/app 이후\ndocker-compose up \u0026amp;\u0026amp; docker-compose rm -f 로 쉬운 실행/삭제 가능\n파이썬 리모트 전용 도커파일\nFROM ubuntu LABEL email=\u0026#34;tayasriel@gmail.com\u0026#34; LABEL name=\u0026#34;BonhyeonGu\u0026#34; #언어 설정, ENV 자체는 도커 이미지 환경변수를 조작한다. ENV LC_ALL=C.UTF-8 ENV LANG=C.UTF-8 RUN apt-get update -y \u0026amp;\u0026amp; \\ apt-get install -y python3-pip python3-dev #vscode remote시 초기 경로를 root로 잡는다. WORKDIR /root RUN pip install --no-cache-dir --upgrade pip \u0026amp;\u0026amp; \\ pip install numpy 컴포즈\nversion: \u0026#34;3\u0026#34; services: test2: #stdin_open: true # docker run -i tty: true # docker run -t build: . volumes: - .:/root 이후\ndocker-compose up -d code . 그리고 리모트, 다쓰면 이후로 docker-compose down ","date":"2022-01-02T02:21:44+09:00","image":"https://docs.9bon.org/p/%EB%8F%84%EC%BB%A4-%ED%8C%8C%EC%9D%BC/thum_hue4e4871d6d6adcc9d6f68eaeea4aa7a3_628503_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EB%8F%84%EC%BB%A4-%ED%8C%8C%EC%9D%BC/","title":"도커 파일"},{"content":"설명 문제 윈도우즈, 윈도우즈 서버 운영체제를 사용할 때 정책을 사용해야 하는 이유로\n반드시 공식 지원하는 \u0026lsquo;RDP\u0026rsquo;를 사용해야 할 때가 있습니다.\n해당 프로그램은 대부분의 기능을 지원하지만 의외의 문제점이 있습니다.\n바로 SSH, 원격 터미널과 흡사한 부분이 있는 것입니다.\nRDP 은 유저가 연결을 끊으면 로그오프되어 Foreground 는 당연하고 Background마저 설정해 놓지 않으면 닫히게 됩니다.\n한번은 윈도우 환경에서만 지원하는 GUI Foreground 프로세스를 지속적으로 가동시킬 목적으로 AWS에서 Windows Server를 구입하여 사용한 적이 있었습니다.\n하지만 위와 같은 이유로 곤혹을 겪었습니다.\n해결 해결방법은 RDP를 마치고 싶을 때 연결 종료가 아닌 작업중인 호스트에서 자기 자신한테 RDP를 연결 시키는 것입니다.\n이러면 RDP 가 끝나지 않았으니 작업을 멈추지 않으며, 다른 사람이 연결을 신청했으니 현제 연결중인 클라이언트는 끊기게 됩니다.\n나중에 알게 됐지만 이 방법은 여러 곳에서 많이 사용 중 이였습니다.\nPowerShell 코드 코드 $ID $FIND = 0 $LINES = query session foreach ($LINE in $LINES) { $WORDS = $LINE.split() | where {$_} foreach ($WORD in $WORDS) { if($WORD -eq \u0026#34; \u0026#34;) { echo \u0026#34;!\u0026#34; continue } if($FIND -eq 1) { echo \u0026#34;!\u0026#34; continue } if($WORD -eq \u0026#34;user01\u0026#34;) { $FIND = 1 } } if($FIND -eq 1) { break } } $CMD = \u0026#34;tscon $ID /dest:console /password:!!!!!!!!\u0026#34; iex $CMD 설명 먼저 현재 진행중인 RDP를 찾아냅니다.\n이후 해당 세션을 tscon으로 루프백 연결시키게 만듭니다.\n파워쉘 코드를 실행하는 배치파일 코드 runas /user:localhost\\administrator \u0026#34;powershell.exe -noprofile -executionpolicy bypass -file \u0026#34;POWER경로\u0026#34;\u0026#34; 설명 또 다른 문제로, 해당 Powershell 코드는 관리자 권한이 필요한데\n세션에 접속한 사용자는 관리자가 아니였습니다. 이를 위해 runas를 사용하여\n관리자 권한을 통하여 코드를 실행하게 만들었습니다.\n","date":"2021-12-31T11:38:57+09:00","image":"https://docs.9bon.org/p/rdp-%EB%AC%B8%EC%A0%9C/thum_huad98ced58dee19f3c4c0f80aa2d20063_204635_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/rdp-%EB%AC%B8%EC%A0%9C/","title":"RDP  문제"},{"content":"zsh 설명 기능이 다양해서 유행중인 bash 쉘을 대체하는 쉘입니다.\n설치 apt-get install zsh chsh -s `which zsh` 쉘은 유저에 귀속되므로 권한에 주의해야 합니다. 또한 작은 따옴표가 아닙니다.\n재시작 하면 설치가 완료됩니다.\necho $SHELL 로 확인 할 수 있습니다.\noh-my-zsh! 설명 zsh를 설정할 수 있는 편리한 콘피그들을 제공해주는 프레임워크입니다.\n설치 curl -L https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh | sh 해당 설치법은 http://ohmyz.sh/ 에서 제공하는 방법입니다. 문제가 생길경우 이곳에서 편집되었는지 확인할 수 있습니다.\n설정 vim ~/.zshrc 에서 제가 주로 사용하는 것은\nZSH_THEME=\u0026ldquo;agnoster\u0026rdquo;\n입니다.\n또한 agnoster 테마를 이용하기 위해서는 다른 글꼴이 필요합니다. 적당한 디렉토리에\ngit clone https://github.com/powerline/fonts.git cd fonts ./install.sh 또는 apt 패키지 관리자로 설치 가능합니다.\napt-get install fonts-powerline 만약 wsl2와 같은 윈도우 환경이라면 수동으로 설치해야합니다. https://github.com/powerline/fonts.git 의 릴리즈에 들어가 압축파일을 받은 뒤 수동 설치를 진행하고 터미널-\u0026gt;속성에서 글꼴을 변경할 수 있습니다.\n기타 업데이트 충돌 오류 여러가지 수정하고 oh-my-zsh 업데이트를 받을 시 git 오류가 발생하는 것을 확인했습니다.\ncd ~/.oh-my-zsh 후\ngit status git add git commit -m 등을 이용하여\nomz update 로 수동 업데이트를 진행하여 해결했습니다.\n","date":"2021-12-24T16:11:32+09:00","image":"https://docs.9bon.org/p/zsh-oh-my-zsh/thum_hue2dfd5a3fbfd61a16a45dd88264e2edf_18092_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/zsh-oh-my-zsh/","title":"zsh, oh-my-zsh!"},{"content":"기본 컨테이너 조회 docker ps -a 첨자 뜻 -a 꺼져있는 것을 포함하여 모두 컨테이너 시작, 종료 docker apache start 이후 내용 뜻 start 실행 restart 재시작 stop 중지 status 상태확인 컨테이너 생성/수정 일반적인 경우 docker container run --name nextcloud -d -v /media/ext1/Docker/cloud/:/var/www/html/data -p 1234:80 nextcloud 첨자 뜻 -run 생성 후 바로 실행함 \u0026ndash;name 생성될 컨테이너의 이름 지정 -d 백그라운드(데몬 프로세스)로 실행 -v (복수가능) 저장공간 맵핑/마운트 컨테이너 외부(호스트) : 컨테이너 내부 -p (복수가능) 포트 맵핑/포워딩 컨테이너 외부(호스트) : 컨테이너 내부 이후 내용엔 이미지 파일 이름 환경변수 설정 docker container run --name test_DB_YJ -d -p 49152:22 -p 1234:3306 -e MYSQL_ROOT_PASSWORD=12345 mariadb --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci docker run -e \u0026#34;ACCEPT_EULA=Y\u0026#34; -e \u0026#34;SA_PASSWORD=12345\u0026#34; -p 1234:1433 --name rpadb -d mcr.microsoft.com/mssql/server:2019-latest 첨자 뜻 -e 컨테이너 내부 환경변수 수정 실행 컨테이너 내부 쉘실행 docker exec -it nextcloud bash 첨자 뜻 -i 상호작용 할 것, 입력 출력이 가능해짐 -t 쉘과 같이 사용 될 것 이후 내용엔 실행할 명령어 컨테이너 내부 권한으로 명령 실행 docker exec -u www-data nextcloud php occ files:scan --all docker exec -u 0 -it rpadb /bin/bash 첨자 및 매게변수 뜻 -u 해당 유저의 권한으로 이후 내용엔 실행할 명령어 ","date":"2021-10-03T01:40:54+09:00","image":"https://docs.9bon.org/p/%EB%8F%84%EC%BB%A4-%EB%AA%85%EB%A0%B9%EC%96%B4%EC%99%80-%EC%98%88%EC%A0%9C/thum_hue0bf79941b42c6128bca718bfc176f0c_48339_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EB%8F%84%EC%BB%A4-%EB%AA%85%EB%A0%B9%EC%96%B4%EC%99%80-%EC%98%88%EC%A0%9C/","title":"도커 명령어와 예제"},{"content":"서론 only HTTP 사용된 전달은 보호되지 않습니다. 우리가 입력할 아이디와 비밀번호는 평문으로 전달되게 될 것이며\n이는 공격자가 쉽게 중간에서 가로챌 수 있습니다.\n이를 방지하기 위해 지금은 TLS내지 SSL을 사용한 HTTPS가 사용되고 있습니다.\n국내에서는 웹서버 정보제공자가 로그인과 관련된 페이지에서 HTTPS 사용을 의무한 법안이 시행중입니다.\n인증서 페이지 제공자와 수신자는 CA(인증 기관\u0026ndash;업체)를 사이로 아래와 같은 작업을 시행합니다.\nLet\u0026rsquo;s Encrypt https://letsencrypt.org/ko/ Let\u0026rsquo;s Encrypt 는 무료 CA입니다. 대신 해당 인증서는 짧은 유효기간을 가졌으며 설정의 제한이 많지만\ncertbot을 통하여 쉽고 빠른 추가/갱신이 가능합니다.\ncertbot certbot은 Let\u0026rsquo;s Encrypt에서 인증서와 키의 발급을 용이하게 도와주는 프로그램입니다. 아래처럼 설치할 수 있습니다.\napt-get install python3-certbot-apache 공식 사이트에는 python-certbot-apache 라고 나와 있었지만 작동되지 않습니다. 파이썬 버전에 참고해야 하는 것 같습니다.\n일반 인증서 발급 certbot --apache certonly 입력후 도메인을 포함한\n와일드카드 인증서 발급 와일드카드 인증서는 하나의 부모 도메인 인증서로 자식 모두를 등록시킬 수 있는 인증서입니다.\n하지만 자동 갱신을 시킬 방법이 없어 이점에 주의해야합니다.\n만약 www.a.com, mail.a.com 등 *a.com을 인증시키는 것이 목표라면 다음과 같습니다.\ncertbot certonly --manual --preferred-challenges dns -d \u0026#34;*.a.com\u0026#34; -d \u0026#34;a.com\u0026#34; 하지만 위의 일반 인증서 발급과 다르게 추가 인증이 필요하다는 메세지를 볼 수 있습니다. 몇가지 제시를 해주는데\n도메인이 본인의 것이 맞다면 도메인 인증이 가장 편리한 것 같습니다.\n저는 구글 도메인 서비스를 이용 중이기 때문에 아래의 화면에서 설정 가능합니다.\n타입은 텍스트로 한 후 호스트이름과 데이터에 요구조건대로 적용하면 완료됩니다.\n단 도메인 정보가 전파되는데 시간이 걸릴 수 있으니 조금 기다렸다가 nslookup등으로 확인 한 후 다음 버튼을 누르시는걸 권장합니다.\n인증서 취소 여러가지 방법이 있지만 인증키를 모두 가지고 있다면 아래 방법이 가장 편리합니다.\ncertbot revoke --cert-path cert.pem --key-path privkey.pem cron 을 통한 자동갱신 인증서를 갱신시키는 명령어는 다음과 같습니다.\ncertbot renew --quiet 하지만 유효기간이 가까워 지기 전마다 해당 명령어를 치는 것은 불편할 것입니다.\n따라서 리눅스 잡 스케줄러인 cron을 사용하여 원하는 날짜가 됐을때 자동으로 해당 명령어를 사용하게 합시다.\n아래 명령어로 스케줄러 설정 파일에 들어갈 수 있습니다.\ncrontab -e 크론텝은 5개의 숫자와 예약 명령어로 한 줄씩 추가 할 수 있습니다.\n각 숫자는 순서대로 분, 시간, 일, 월, 요일(일요일=0)이며 *로 대체되면 그 부분은 상관없게 됩니다.\n0 0 2 * * /bin/bash -l -c \u0026#39;certbot renew --quiet\u0026#39; 즉 이렇게 하면 매월 2일마다 갱신작업을 실행합니다.\nservice cron restart 후\nservice cron status 로 제대로 동작중인지 확인할 수 있습니다. 만약 문제가 생겼고 해결이 안된다면\ncrontab -r 로 cron을 초기화 시킬수 있습니다.\n아파치 설정 마지막으로 아파치에 적용하면 작업종료입니다.\n인증서 적용 먼저 모듈을 키고 수정할 사이트를 내려줍니다.\na2enmod ssl a2dissite www.a.com 이제 사이트 설정 콘피그에 들어가 기본 HTTP포트 80으로 호스팅 되어있는 부분을 삭제하고 SSL포트 443번으로 수정시킨 후 아래 처럼 만들어줍니다. 경로에 주의해야 합니다.\n\u0026lt;VirtualHost *:443\u0026gt; ServerName www.a.com DocumentRoot /var/www/www.a.com SSLEngine on SSLCertificateKeyFile /etc/letsencrypt/live/www.a.com/privkey.pem SSLCertificateFile /etc/letsencrypt/live/www.a.com/cert.pem SSLCACertificateFile /etc/letsencrypt/live/www.a.com/fullchain.pem \u0026lt;Directory /\u0026gt; AllowOverride All Options All -Indexes Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; 저장 후\na2ensite www.a.com service apache2 restart HTTP 접근시 대처 만약 서버측에서 HTTPS로 구현 했음에도 불구하고 유저가 HTTP로 접근한다면 접속 불가하게 만드는 것 보다 자동으로 HTTPS로 재접근 되게 만드는 것이 유저 친화적일 것입니다. 이런 기능을 Rewrite, Redirect라고 합니다. 모듈명은 Rewrite입니다.\nRewrite Redirect 서버 사이드 클라이언트 사이드 클라이언트 모르게 설정된 경로로 바뀜, URL을 숨기는 용도로도 사용가능 클라이언트측 브라우저가 설정된 경로로 재접근함 a2enmod rewrite a2dissite www.a.com \u0026lt;VirtualHost *:443\u0026gt; ServerName www.a.com DocumentRoot /var/www/www.a.com SSLEngine on SSLCertificateKeyFile /etc/letsencrypt/live/www.a.com/privkey.pem SSLCertificateFile /etc/letsencrypt/live/www.a.com/cert.pem SSLCACertificateFile /etc/letsencrypt/live/www.a.com/fullchain.pem \u0026lt;Directory /\u0026gt; AllowOverride All Options All -Indexes Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; \u0026lt;VirtualHost *:80\u0026gt; ServerName www.a.com Redirect / https://www.a.com \u0026lt;/VirtualHost\u0026gt; ","date":"2021-10-01T18:41:21+09:00","image":"https://docs.9bon.org/p/%EC%95%84%ED%8C%8C%EC%B9%98-ssl-%EC%A0%81%EC%9A%A9-lets-encrypt/thum_hu41c3bc7f4d7437a9085f5f36b9638c8f_31272_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EC%95%84%ED%8C%8C%EC%B9%98-ssl-%EC%A0%81%EC%9A%A9-lets-encrypt/","title":"아파치 SSL 적용, Let's Encrypt"},{"content":"서론 웹 서버 데몬은 한 호스트를 여러 호스트처럼 쓸 수 있는 가상 호스트(VirtualHost) 를 대부분 지원하고 있습니다. 포트번호, 서브도메인, 출발지 주소등의 규칙을 적용시킵니다. 이번엔 Debian과 Apache로 서브 도메인에 따른 규칙으로 가상 호스트를 구현해 보도록 하겠습니다. 마지막엔 cloud.9bon.org와 9bon.org가 똑같은 장치에 구성되어있음에 불구하고 서로 다른 내용을 보여주는 것이 목표입니다.\n아파치 준비 아파치가 설치되어있지 않으면 패키지 관리자로 쉽게 설치 가능합니다.\napt-get update \u0026amp;\u0026amp; apt-get install apache2 또한 앞으로의 과정 중 재시작을 하고 싶을땐 다음과 같습니다.\nservice apache2 restart 당연히 재시작 말고도 start, stop, reload, status를 사용할 수 있습니다.\n아파치 설정 데비안 10기준 Apache2에서는 설정파일이 모두 모듈화 되어있으며 추가 설정 또한 부분화하길 권장하고 있습니다.\ncd /etc/apache2/sites-available/ 아래처럼 설정파일을 \u0026lt;추가할 사이트 도메인\u0026gt;.conf 으로 생성하면 됩니다.\nnano a.com.conf \u0026lt;VirtualHost *:80\u0026gt; ServerName a.com DocumentRoot /var/www/a.com \u0026lt;Directory /\u0026gt; AllowOverride All Options All -Indexes Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; 요약하면 80번 포트로 연결되는 가상 호스트이며 도메인이 a.com일때 /var/www/a.com의 내용을 보여라는 뜻입니다. 그대로 www.a.com또한 작성하면 됩니다.\nnano www.a.com \u0026lt;VirtualHost *:80\u0026gt; ServerName www.a.com DocumentRoot /var/www/www.a.com \u0026lt;Directory /\u0026gt; AllowOverride All Options All -Indexes Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; 작성을 마치면\na2ensite a.com a2ensite www.a.com 잘못 입력했다면\na2dissite \u0026lt;설정 파일을 기반한 주소\u0026gt; 할 수 있습니다. 마지막으로 reload 하면 완료입니다.\nservice apache2 reload 참고로 아파치는 사이트 설정을 바꾸는 것에는 reload를 모듈을 추가 해제할 때는 restart 하기를 추천하고 있습니다.\n","date":"2021-09-02T19:32:24+09:00","image":"https://docs.9bon.org/p/%EC%95%84%ED%8C%8C%EC%B9%98-%EA%B0%80%EC%83%81%ED%98%B8%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95/thum_hu93117a104f66c66e072a709f88188d19_37623_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%EC%95%84%ED%8C%8C%EC%B9%98-%EA%B0%80%EC%83%81%ED%98%B8%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95/","title":"아파치 가상호스트 설정"},{"content":"주의사항 2022.03.20 하드디스크가 문제가 생겼었고, 교환 받은 디스크도 종종 긁히는 소리가 갑자기 생기는데 Hugo를 직접 호스팅 하기 전까지 이런적은 없었습니다.\nhugo server 로 24시간 작동시키는것이 다른 문제가 있는지 의심하는 중입니다. 주의하시길 바랍니다.\n서론 학습했던 것들을 정리하기 위해 정적 페이지를 알아보다 HUGO와 Github page를 사용한 대중적인 게시글들을 확인할 수 있었습니다. Github page를 사용하면 관리하기 편리할 것 같지만 호스팅 경험을 위하여 예전부터 동작 중인 개인 서버를 통해 가동해 보겠습니다.\nHomebrew 설치 2021년 08월 29일 기준 데비안 10.10 버전의 apt 패키지 관리자에서는 최신 버전의 hugo를 지원하지 않고 있습니다. 사용하고 싶은 테마가 최신버전의 hugo에서만 지원하고 있기 때문에 수동으로 받아 설치하거나 다른 패키지 관리자를 사용하는 것이 방법일 것입니다. 여기서는 Mac OS 에서 주로 사용하는 Homebrew를 사용했습니다.\nsudo apt-get install build-essential curl file git sh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)\u0026#34; 여기서 brew는 설치, 설치후 사용할 때 root의 권한으로 동작시킬 수 없습니다.\n설치가 완료되었다면 자기가 사용하는 쉘에 설치된 경로를 포함시켜야 합니다. 데비안 기준 기본 쉘은 bash입니다.\nnano ~/.bashrc 또는 사람들이 주로 사용하는 zsh는\nnano ~/.zshrc 를 사용해 아래를 추가해주고\nexport PATH=\u0026#34;/home/linuxbrew/.linuxbrew/bin:$PATH\u0026#34; export MANPATH=\u0026#34;/home/linuxbrew/.linuxbrew/share/man:$MANPATH\u0026#34; export INFOPATH=\u0026#34;/home/linuxbrew/.linuxbrew/share/info:$INFOPATH\u0026#34; 저장 후 자신의 쉘에 맞게\nsource ~/.bashrc 또는\nsource ~/.zshrc 를 실행시켜 주면 적용되어 바로 사용 할 수 있습니다.\n만약 저처럼 알기 힘든 오류를 출력하여 진행 할 수 없을 때는 아래와 같은 방법으로 해결방법을 찾을 수 있습니다.\nbrew doctor 저 같은 경우에는 해당 명령어를 추천했으며 올바르게 동작했습니다.\nrm -rf /usr/local/Cellar /usr/local/.git \u0026amp;\u0026amp; brew cleanup 모든 것이 완료되었다면 아래처럼 테스트 해볼 수 있습니다.\nbrew update brew install hello hello brew remove hello HUGO 설치 및 실행 brew install hugo 후\nhugo version 하면 올바르게 최신 버전이 설치되었음을 확인 할 수 있습니다. 이후 원하는 디렉토리에 들어가 새로운 사이트를 생성하고\nhugo new site docs.9bon.org 원하는 테마를 받아 올 수 있습니다.\ncd themes https://github.com/CaiJimmy/hugo-theme-stack.git 시험삼아 간단한 테스트를 하기위해 설정파일을 조작할 것인데 기본으로 생기는 설정파일이 config.toml인것에 반해 제작자 가이드는 config.yaml에 맞추어져 있습니다. 편의상인 것으로 추측됩니다. 원래 있는 config.toml을 치우고 config.yaml을 만들어주면 yaml타입으로 설정할 수 있습니다.\ncd .. / mv ./config.toml ./__config.toml 나노 config.yaml 이후에 설정파일은 테마 제작자 깃허브 https://github.com/CaiJimmy/hugo-theme-stack 를 참고하여 작성 했습니다.\n작성이 완료되었다면 해당 명령어로 로컬 서버를 동작시켜 사이트 테스트를 할 수 있습니다.\nhugo server 하지만 /tmp/hugo_cache/ 쪽에서 권한 문제가 생겼다는 에러를 확인할 수 있었습니다. 또한 brew로 설치한 hugo는 root에 존재하지 않기 때문에 root권한으로 실행할 수 없습니다. 따라서 해당 디렉토리 이하의 권한을 user권한으로 맞춰 줄 필요가 있습니다. 이 작업은 당연히 보안상에 문제가 없는지 검토가 이루어져야 합니다.\nsudo chown -R \u0026lt; 사용자 이름 \u0026gt; : \u0026lt; 사용자 이름 \u0026gt; /tmp/hugo_cache/ 위의 작업까지 완료하고 작성한 포스트를 작성 후 함께 Github에 올리고 뿌리기 전용 저장소까지 완성하면 git page로 호스팅이 가능합니다. 방법은 쉽게 인터넷에서 찾아볼 수 있습니다.\nhugo server 상세 명령어 hugo server를 외부에 제한없이 오픈하려면 다음과 같은 명령어를 사용해야 합니다.\nhugo server --baseURL \u0026#34;docs.9bon.org\u0026#34; --bind \u0026#34;0.0.0.0\u0026#34; 이때 baseURL을 추가하지 않으면 config.yaml에 따라 적용되는 것으로 보였습니다. hugo server의 기본 포트는 1313이기에 docs.9bon.org:1313으로 활성화 됩니다.\n만약 포트번호를 바꾸고 싶다면\nhugo server --port 2222 --baseURL \u0026#34;docs.9bon.org\u0026#34; --bind \u0026#34;0.0.0.0\u0026#34; 와 같은 방법으로 포트 번호를 바꿀 수 있습니다.\n만약 저처럼 해당 장치에 웹서버가 동작하고 있어 80포트는 사용할 수 없지만 URL에 포트번호가 찍혀 접속하는 것도 흉해서 싫다면 웹서버의 프록시를 사용해야 합니다. 프록시의 구축은 이후에 설명하겠습니다.\n만약 장치에 리버스 프록시가 적용된 웹서버가 존재하기 때문에 클라이언트는 접속을 80포트로 진행하게 될 예정이지만, 서버 내에선 다른 포트로 동작해야 한다면 명령어에 오픈 주소와 포트를 붙이지 말라는 내용을 추가해야 합니다.\nhugo server --port 2222 --appendPort=false --baseURL \u0026#34;docs.9bon.org\u0026#34; --bind \u0026#34;0.0.0.0\u0026#34; 이렇게 하고 웹서버의 설정도 맞춘다면 서버 내에선 2222포트로 동작하며 클라이언트는 80포트가 생략된 docs.9bon.org의 주소로 접속해야만 합니다.\n","date":"2021-09-01T14:21:27+10:23","image":"https://docs.9bon.org/p/%ED%9C%B4%EA%B3%A0-%EC%84%9C%EB%B2%84%EC%97%90-%EC%A7%81%EC%A0%91-%EA%B5%AC%EB%8F%99%EC%8B%9C%ED%82%A4%EA%B8%B0/thum_hu7cac0fe55803f0cb8ffe35f84687974b_19812_120x120_fill_box_smart1_3.png","permalink":"https://docs.9bon.org/p/%ED%9C%B4%EA%B3%A0-%EC%84%9C%EB%B2%84%EC%97%90-%EC%A7%81%EC%A0%91-%EA%B5%AC%EB%8F%99%EC%8B%9C%ED%82%A4%EA%B8%B0/","title":"휴고 서버에 직접 구동시키기"}]